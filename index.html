<html>
	<script src="/socket.io/socket.io.js"></script>
	<script>
		var socket = io.connect(window.document.URL);
		socket.on('msg', function (data) {
			msgString = new String;
			for (property in data) {
				if(typeof(data[property]) == 'string') {
					msgString += data[property] + '|';
				} else {
					for (param in data[property]) {
						msgString += param + '<' + data[property][param] + '> ';
					}
				}
				
			}
			showString(msgString);
		});
		//send message works!! Now I need to make up a UI for compiling messages from Web
		function sendMessage(message) {
			var message = {msg: 'Msg', type: 'CAM', id: '3', action: 'REC', params : {p1: 'a', p2: 'b'}}
			socket.emit('client', message);
		}
		function showString(message, colr) {
			mBox = document.getElementById("messageBox")
			msg = document.createElement('div')
			msg.innerText = message
			msg.style.color = colr == "" ? "black" : colr
			mBox.appendChild(msg)
			setTimeout(function () {
					mBox.removeChild(mBox.childNodes[0])
				}, 5000)
		}
	</script>
	<body onclick = 'sendMessage()'>
		<div id='messageBox'></div>
	</body>
</html>
